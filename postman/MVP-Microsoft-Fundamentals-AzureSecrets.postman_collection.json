{
  "info": {
    "name": "MVP Microsoft Fundamentals Trainer (Azure Secrets)",
    "_postman_id": "b4e0a6d4-06a8-4d15-a2f5-05386a5f9980",
    "description": "Coleção para testar o MVP com Azure OpenAI via User Secrets.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Create Exam",
      "event": [
        {
          "listen": "test",
          "script": {
            "exec": [
              "var data = pm.response.json();",
              "pm.collectionVariables.set('examId', data.examId);",
              "pm.test('Has examId', function(){ pm.expect(data.examId).to.exist; });"
            ],
            "type": "text/javascript"
          }
        }
      ],
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/exams",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "exams"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\"track\": \"AZ-900\", \"count\": 10, \"language\": \"pt-BR\"}"
        }
      },
      "response": []
    },
    {
      "name": "Get Exam",
      "request": {
        "method": "GET",
        "header": [],
        "url": {
          "raw": "{{baseUrl}}/exams/{{examId}}",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "exams",
            "{{examId}}"
          ]
        }
      },
      "response": []
    },
    {
      "name": "Submit Answers (dummy first attempt)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/exams/{{examId}}/submissions",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "exams",
            "{{examId}}",
            "submissions"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\"answers\": [{\"questionId\": \"Q1\", \"selected\": \"A\"}, {\"questionId\": \"Q2\", \"selected\": \"B\"}]}"
        }
      },
      "response": []
    },
    {
      "name": "Analyze (light)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/exams/{{examId}}/analysis",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "exams",
            "{{examId}}",
            "analysis"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\"analysisMode\": \"light\", \"language\": \"pt-BR\"}"
        }
      },
      "response": []
    },
    {
      "name": "Analyze (deep)",
      "request": {
        "method": "POST",
        "header": [
          {
            "key": "Content-Type",
            "value": "application/json"
          }
        ],
        "url": {
          "raw": "{{baseUrl}}/exams/{{examId}}/analysis",
          "host": [
            "{{baseUrl}}"
          ],
          "path": [
            "exams",
            "{{examId}}",
            "analysis"
          ]
        },
        "body": {
          "mode": "raw",
          "raw": "{\"analysisMode\": \"deep\", \"language\": \"pt-BR\"}"
        }
      },
      "response": []
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:5180"
    },
    {
      "key": "examId",
      "value": ""
    }
  ]
}